{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[212],{485:function(a,t,s){\"use strict\";s.r(t);var e=s(10),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[t(\"h2\",{attrs:{id:\"_1-命令简介\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-命令简介\"}},[a._v(\"#\")]),a._v(\" 1.命令简介\")]),a._v(\" \"),t(\"p\",[a._v(\"iptables/ip6tables 是 IPv4/IPv6 包过滤和 NAT 的管理工具。\")]),a._v(\" \"),t(\"p\",[a._v(\"iptables/ip6tables 命令是 Linux 上常用的防火墙软件，是 \"),t(\"a\",{attrs:{href:\"https://www.netfilter.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"netfilter\"),t(\"OutboundLink\")],1),a._v(\" 项目的一部分。可以直接配置，也可以通过许多前端和图形界面配置。\")]),a._v(\" \"),t(\"p\",[a._v(\"iptables/ip6tables 均是 xtables-multi 的软链。\")]),a._v(\" \"),t(\"h2\",{attrs:{id:\"_2-命令格式\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-命令格式\"}},[a._v(\"#\")]),a._v(\" 2.命令格式\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"-A\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-C\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-D\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" chain rule-specification\\n\\nip6tables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"-A\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-C\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-D\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" chain rule-specification\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-I\")]),a._v(\" chain \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"rulenum\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" rule-specification\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-R\")]),a._v(\" chain rulenum rule-specification\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-D\")]),a._v(\" chain rulenum\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-S\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"chain \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"rulenum\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"-F\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-L\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"|\")]),a._v(\"-Z\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"chain \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"rulenum\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"options\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),a._v(\".\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-N\")]),a._v(\" chain\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-X\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"chain\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-P\")]),a._v(\" chain target\\n\\niptables \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"-t table\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-E\")]),a._v(\" old-chain-name new-chain-name\\n\\nrule-specification \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"matches\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),a._v(\".\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"target\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\\nmatch \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-m\")]),a._v(\" matchname \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"per-match-options\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\\ntarget \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" targetname \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),a._v(\"per-target-options\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n\")])])]),t(\"p\",[a._v(\"表名包括：\\nraw：高级功能，如：网址过滤。\\nmangle：数据包修改（QOS），用于实现服务质量。\\nnat：地址转换，用于网关路由器。\\nfilter：包过滤，用于防火墙规则。\\nsecurity：该表用于 MAC (Mandatory Access Control)组网规则，例如由 SECMARK 和 CONNSECMARK 目标启用的规则。\")]),a._v(\" \"),t(\"p\",[a._v(\"规则链名包括：\\nINPUT链：处理输入数据包。\\nOUTPUT链：处理输出数据包。\\nPORWARD链：处理转发数据包。\\nPREROUTING链：用于目标地址转换（DNAT）。\\nPOSTOUTING链：用于源地址转换（SNAT）。\")]),a._v(\" \"),t(\"p\",[a._v(\"动作包括：\\nACCEPT：接收数据包。\\nDROP：丢弃数据包。\\nREDIRECT：重定向、映射、透明代理。\\nSNAT：源地址转换。\\nDNAT：目标地址转换。\\nMASQUERADE：IP 伪装（NAT），用于 ADSL。\\nLOG：日志记录。\")]),a._v(\" \"),t(\"h2\",{attrs:{id:\"_3-选项说明\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-选项说明\"}},[a._v(\"#\")]),a._v(\" 3.选项说明\")]),a._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[a._v(\"-t, --table <table>\\n\\t指定要操纵的表。\\n\")])])]),t(\"p\",[a._v(\"命令选项。\")]),a._v(\" \"),t(\"p\",[a._v(\"这些选项指定要执行的所需操作。这些在命令行上只能同时指定一个除非另有说明。对于长版本的命令和选项名称，可以只要能够和其他选项区别开来即可。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[a._v(\"-A, --append <chain> <rule-specification>\\n\\t向规则链中添加条目。\\n-D, --delete <chain> <rule-specification>\\n-D, --delete <chain> <rulenum>\\n\\t从规则链中删除条目。\\n-I, --insert <chain> [rulenum] <rule-specification>\\n\\t向规则链中插入条目；\\n-R, --replace <chain> <rulenum> <rule-specification>\\n\\t替换规则链中的条目。\\n-L, --list [chain]\\n\\t显示规则链中已有的条目。\\n-F, --flush [chain]\\n\\t清除规则链中所有条目。\\n-Z, --zero [chain [rulenum]]\\n\\t清空规则链中的数据包计算器和字节计数器。\\n-N, --new-chain <chain>\\n\\t创建新的用户自定义规则链。\\n-P, --policy <chain> <target>\\n\\t定义规则链中的默认目标。\\n-X, --delete-chain [chain]\\n\\t删除用户定义的链。如果未指定链，则尝试删除表中的每个非内置链。\\n-h\\n\\t显示帮助信息；\\n\")])])]),t(\"p\",[a._v(\"参数型选项。\")]),a._v(\" \"),t(\"p\",[a._v(\"下面的参数组成了规则规范(在添加、删除、插入、替换和追加命令中使用)。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[a._v(\"-p, --protocol <protocol>\\n\\t指定要匹配的数据包协议类型；\\n[!] -s, --source <address>[/<mask>][,...]\\n\\t指定要匹配的数据包源 IP 地址。\\n[!] -d, --destination <address>[/<mask>][,...]\\n\\t指定要匹配的数据包目的 IP 地址。\\n-m, --match <match>\\n\\t指定要使用的匹配项，即测试特定属性的扩展模块。匹配集构成了调用目标的条件。匹配将按照命令行中指定的顺序从前到后计算，并以短路方式工作，即如果一个扩展产生 false，则计算将停止。\\n-j, --jump <target>\\n\\t指定要跳转的目标。目标可以是用户定义的链(除了这个规则所在的链)，可以是一个特殊的内置目标，它可以立即决定数据包的命运，也可以是一个扩展。如果在规则中省略了该选项(并且没有使用-g)，那么匹配该规则将对数据包的命运没有影响，但规则上的计数器将增加。\\n-i, --in-interface <name>\\n\\t指定数据包进入本机的网络接口。\\n-o, --out-interface <name>\\n\\t指定数据包要离开本机所使用的网络接口。\\n-c, --set-counters <packets> <bytes>\\n\\t这使得管理员可以初始化数据包和规则的字节计数器（在 INSERT, APPEND，REPLACE 操作时）。\\n\")])])]),t(\"p\",[a._v(\"其他选项。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"-v, \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--verbose\")]),a._v(\"\\n\\t详细的输出。如该选项使 list 命令显示接口名称、规则选项\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"如果有的话\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"和 TOS 掩码。\\n-n, \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--numeric\")]),a._v(\"\\n\\t数字输出。IP地址和端口号将以数字格式打印。默认情况下，程序将尝试将它们显示为主机名、网络名或服务\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"只要适用\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"。\\n--line-numbers\\n\\t列出规则时，在每条规则的开头添加行号，对应于该规则在链中的位置。\\n\")])])]),t(\"h2\",{attrs:{id:\"_4-常用示例\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-常用示例\"}},[a._v(\"#\")]),a._v(\" 4.常用示例\")]),a._v(\" \"),t(\"p\",[a._v(\"（1）清除已有 iptables 规则。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-F\")]),a._v(\"\\n\")])])]),t(\"p\",[a._v(\"（2）删除指定的用户自定义链。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-X\")]),a._v(\"\\n\")])])]),t(\"p\",[a._v(\"删除指定的用户自定义链。这个链必须没有被引用，如果被引用，在删除之前你必须删除或者替换与之有关的规则。如果没有给出参数，这条命令将试着删除每个非内建的链。\")]),a._v(\" \"),t(\"p\",[a._v(\"（3）把所有链的包及字节的计数器清空。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-Z\")]),a._v(\"\\n\")])])]),t(\"p\",[a._v(\"（4）允许本地回环接口，即运行本机访问本机。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-A\")]),a._v(\" INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-s\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"127.0\")]),a._v(\".0.1 \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-d\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"127.0\")]),a._v(\".0.1 \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" ACCEPT\\n\")])])]),t(\"p\",[a._v(\"（5）允许已建立的或相关链的通行。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[a._v(\"iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\\n\")])])]),t(\"p\",[a._v(\"（6）允许所有本机向外的访问。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-A\")]),a._v(\" OUTPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" ACCEPT\\n\")])])]),t(\"p\",[a._v(\"（7）允许访问 22 端口。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-A\")]),a._v(\" INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-p\")]),a._v(\" tcp \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"--dport\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"22\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" ACCEPT\\n\")])])]),t(\"p\",[a._v(\"（8）禁止其他未允许的规则访问。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[a._v(\"iptables -A INPUT -j REJECT\\n\")])])]),t(\"p\",[a._v(\"（9）禁止其他未允许的规则转发。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-A\")]),a._v(\" FORWARD \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" REJECT\\n\")])])]),t(\"p\",[a._v(\"（10）屏蔽单个 IP 数据包。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-I\")]),a._v(\" INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-s\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"172.16\")]),a._v(\".0.88 \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" DROP\\n\")])])]),t(\"p\",[a._v(\"（11）封整个段即从 172.16.0.1 到 172.16.0.254 的数据包。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-I\")]),a._v(\" INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-s\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"172.16\")]),a._v(\".0.0/24 \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-j\")]),a._v(\" DROP\\n\")])])]),t(\"p\",[a._v(\"（12）查看已添加的 iptables 规则。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-L\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-n\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-v\")]),a._v(\"\\nChain INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"policy ACCEPT 8385K packets, 1772M bytes\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n pkts bytes target     prot opt \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"in\")]),a._v(\"     out     \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"source\")]),a._v(\"               destination\\n\\nChain FORWARD \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"policy ACCEPT \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),a._v(\" packets, \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"0\")]),a._v(\" bytes\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n pkts bytes target     prot opt \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"in\")]),a._v(\"     out     \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"source\")]),a._v(\"               destination\\n\\nChain OUTPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"policy ACCEPT 8434K packets, 1290M bytes\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n pkts bytes target     prot opt \"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"in\")]),a._v(\"     out     \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"source\")]),a._v(\"               destination\\n\")])])]),t(\"p\",[a._v(\"（13）删除已添加的 iptables 规则。\")]),a._v(\" \"),t(\"p\",[a._v(\"将所有 iptables 以序号标记显示。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-L\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-n\")]),a._v(\" --line-numbers\\n\")])])]),t(\"p\",[a._v(\"比如要删除 INPUT 里序号为 9 的规则。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-D\")]),a._v(\" INPUT \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"9\")]),a._v(\"\\n\")])])]),t(\"p\",[a._v(\"（14）清空 filter 表 INPUT 所有规则。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-t\")]),a._v(\" filter \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-F\")]),a._v(\" INPUT\\n\")])])]),t(\"p\",[a._v(\"（15）设置 filter 表 INPUT 默认规则是 DROP。\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-shell extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[a._v(\"iptables \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-t\")]),a._v(\" filter \"),t(\"span\",{pre:!0,attrs:{class:\"token parameter variable\"}},[a._v(\"-P\")]),a._v(\" INPUT DROP\\n\")])])]),t(\"hr\"),a._v(\" \"),t(\"h2\",{attrs:{id:\"参考文献\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文献\"}},[a._v(\"#\")]),a._v(\" 参考文献\")]),a._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://man7.org/linux/man-pages/man8/iptables.8.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"iptables(8) - Linux manual page - man7.org\"),t(\"OutboundLink\")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}