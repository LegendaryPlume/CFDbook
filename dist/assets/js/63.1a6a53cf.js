(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{339:function(n,e,t){"use strict";t.r(e);var a=t(10),r=Object(a.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h2",{attrs:{id:"_1-命令简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[n._v("#")]),n._v(" 1.命令简介")]),n._v(" "),e("p",[n._v("diff（different）是以逐行的方式，比较文本文件的异同。")]),n._v(" "),e("p",[n._v("如果给定的文件名是 -，表示从标准输入读取内容。如果给定的文件是目录，则将会比较该目录中具有相同文件名的文件，默认情况下不会对其子目录文件进行任何比较操作。")]),n._v(" "),e("p",[n._v("由于历史原因，diff 有四种输出格式：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("正常格式（选项 --normal ）\n并列格式（选项 -y, --side-by-side）\n上下文格式（选项 -C NUM, -c, --context[=NUM]）\n合并格式（选项 -U NUM, -u, --unified[=NUM]）\n")])])]),e("h2",{attrs:{id:"_2-命令格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[n._v("#")]),n._v(" 2.命令格式")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff [OPTION]... FILES\n")])])]),e("p",[n._v("FILES 取值形式有如下几种：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("FILE1 FILE2\nDIR1 DIR2\nDIR FILE\nFILE DIR\n")])])]),e("p",[n._v("FILES 除了上面的几种取值形式，也可以使用选项 --from-file（指定第一个文件）或 --to-file（指定第二个文件）。如果输入相同，退出状态为 0；如果输入不同，则为 1；如果出现故障，则为 2。")]),n._v(" "),e("h2",{attrs:{id:"_3-选项说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[n._v("#")]),n._v(" 3.选项说明")]),n._v(" "),e("p",[n._v("注意，长选项的强制性参数对于短选项也是强制的。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("-a, --text\n    所有的文件都视为文本文件来逐行比较\n-B, --ignore-blank-lines\n    忽略插入删除空行引起的变化\n-b, --ignore-space-change\n    忽略因空白符数量不同造成的差异\n-C NUM\n-c, --context[=NUM]\n    使用上下文格式输出，显示异行处上下指定数量的行（默认为 3 行）\n --color[=WHEN]\n \t将输出着色；WHEN 可取值 never、always 或 auto（默认值）\n-D, --ifdef=NAME\n\t输出与 \"#ifdef NAME\" 不同的合并文件\n-d, --minimal\n    改变算法找出一组更小的变更。这会使 diff 变慢\n-E, --ignore-tab-expansion\n\t忽略因 Tab 扩展引起的更改\n-e, --ed\n    输出为一个有效的 ed 脚本\n-F, --show-function-line=RE\n\t显示匹配 RE 的前面的行\n--from-file=FILE1\n\t将 FILE 1 与所有文件进行比较；FILE 1 可以是一个目录\n--GTYPE-group-format=GFMT\n\t用组格式 GFMT 格式化类型为 GTYPE 的输入组\n--line-format=LFMT\n    用格式 LFMT 格式化所有输入行\n--LTYPE-line-format=LFMT\n \t用行格式 LFMT 格式化类型为 LTYPE 的输入行\n\t上面三个选项和响应的格式提供了对输出的细粒度控制。\n\t行类型 LTYPE 可取值 old、new 或 unchanged，组类型 GTYPE 可取值 LTYPE 或 changed。\n\t组格式 GFMT 特含如下内容：\n\t%< FILE1 中的行\n\t%> FILE2 中的行\n\t%= FILE1 和 FILE2 中共有的行\n\t%[-][WIDTH][.[PREC]]{doxX}LETTER\n\t\t使用 printf 输出风格修饰 LETTER，LETTER 使用如下字母表示新组，下面的小写字母表示旧组\n\t\tF\t首行行号\n        L\t尾行行号\n        N\t行数 = L-F+1\n        E\t等于 F-1\n        M\t等于 L+1\n        %(A=B?T:E)\n              if A equals B then T else E\n\t行格式 LFMT  特含如下内容：\n\t%L\t行的内容\n\t%l\t行的内容，不包括任何尾随的换行符\n\t%[-][WIDTH][.[PREC]]{doxX}n\n\t\t使用 printf 风格修饰输入行号 n\n\t组格式 GFMT 和行格式 LFMT 共有的内容：\n\t%%\t\t\t表示百分号 %\n\t%c'C'\t\t表示大写字母 C\n\t%c'\\OOO'\t表示码值为八进制 000 的字符\n\tC\t\t\t其他字符\n--help\n\t显示帮助信息并退出\n--horizon-lines=NUM\n\t保持共有前缀和后缀的 NUM 行\n-I, --ignore-matching-lines=RE\n    忽略匹配正则表达式 RE 的行\n-i, --ignore-case\n    忽略大小写\n--ignore-file-name-case\n\t比较文件名时忽略大小写\n-l, --paginate\n    将结果交由 pr 程序来分页\n--label LABEL\n    输出比较结果时使用 LABEL 代替文件名和时间戳\n--left-column\n\t只输出公共行的左列\n-N, --new-file\n\t将缺席文件视为空文件。在比较目录时，若文件 A 仅出现在某个目录中，预设会显示：Only in 目录：文件 A。若使用 -N 参数，则 diff 会将文件 A 与一个空白的文件比较\n-n, --rcs\n    将比较结果以 RCS 的格式来显示\n--no-dereference\n\t不解析\n--no-ignore-file-name-case\n\t比较文件名时大小写敏感\n--normal\n\t使用正常格式输出比较结果。为默认输出格式\n-p, --show-c-function\n\t显示每个更改在哪个 C 函数中\n--palette=PALETTE\n\t当使用选项 --color 时，指定要使用的颜色。PALETTE 是使用冒号分隔的终端支持的能力列表\n-q, --brief\n    仅报告文件是否相异，忽略差别的细节\n-r, --recursive\n    当比较目录时，递归比较子目录\n-S, --starting-file=FILE\n    当比较目录时，由 FILE 开始。这用于继续中断的比较\n-s, --report-identical-files\n    当两个文件相同时报告\n--speed-large-files\n\t使用启发规则加速操作那些有许多离散的小差异的大文件\n--strip-trailing-cr\n\t去掉输入行尾的回车符 CR\n--suppress-common-lines\n    在并列格式中不印出公共行\n-T, --initial-tab\n    在每行前面加上 Tab 以便对齐\n-t, --expand-tabs\n    在输出时将 Tab 扩展为空格\n--tabsize=NUM\n\t一个 Tab 表示 NUM（默认 8） 个空格\n--to-file=FILE2\n\t将所有文件与 FILE2 进行比较；FILE2 可以是一个目录\n-U NUM\n-u, --unified[=NUM]\n\t使用合并格式输出，输出 NUM（默认 3）行的统一上下文\n--unidirectional-new-file\n\t将缺席的第一批文件视为空文件\n-v, --version\n    输出版本信息并退出\n-W, --width=NUM\n    使用 -y 选项采用列格式输出时，指定栏宽。缺省为 130\n-w, --ignore-all-space\n    在比较行的时候忽略空白符\n-y, --side-by-side\n    使用并格式输出两列\n -Z, --ignore-trailing-space\n \t忽略行尾的空白符\n")])])]),e("h2",{attrs:{id:"_4-常用示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[n._v("#")]),n._v(" 4.常用示例")]),n._v(" "),e("p",[n._v("给定测试文件 file1 和 file2，其内容为"),e("a",{attrs:{href:"https://baike.baidu.com/item/%E5%8D%81%E4%BA%8C%E7%94%9F%E8%82%96/48593?fr=aladdin",target:"_blank",rel:"noopener noreferrer"}},[n._v("十二生肖"),e("OutboundLink")],1),n._v("中动物的英文。\nfile1 内容：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("mouse\ncattle\ntiger\nrabbit\ndragon\nsnake\nhorse\nsheep\nmonkey\nchicken\ndog\npig\n")])])]),e("p",[n._v("file2 内容：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("mouse\ncattle\ntiger\n        rabbit\ndragon\nsnake\nh orse\nsheeps\nmonkey\nchicken\n")])])]),e("p",[n._v("（1）比较两个文件的异同，使用正常格式输出。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff file1 file2\n4c4\n< rabbit\n---\n> \trabbit\n7,8c7,8\n< horse\n< sheep\n---\n> h orse\n> sheeps\n11,12d10\n< dog\n< pig\n")])])]),e("p",[n._v("diff 的正常输出格式有三种提示：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("a - add\nc - change\nd - delete \n")])])]),e("p",[n._v("因此可以看出，上面的输出中 3c3 和 7,8c7,8 表示两者在 3、7 和 8 行内容有所不同；11,12d10 表示后者比前者少了 11 和 12 行。")]),n._v(" "),e("p",[n._v("特殊字符 < 表示该行属于第一个文件，> 表示该行属于第二个文件，--- 为分隔符。")]),n._v(" "),e("p",[n._v("（2）比较两个文件的异同，使用并列格式输出，并指定列宽为 50。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff -y -W50 file1 file2\n")])])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200215233201533.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0szNDZLMzQ2,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),n._v("\n其中特殊字符的含义如下：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("| 表示前后 2 个文件内容有不同\n< 表示后面文件比前面文件少了 1 行内容\n> 表示后面文件比前面文件多了 1 行内容\n")])])]),e("p",[n._v("（3）比较两个文件的异同，使用上下文格式输出，并只显示异行处上下各一行上下文。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff -C1 file1 file2\n*** file1\tSat Feb 15 22:24:46 2020\n--- file2\tSat Feb 15 22:29:26 2020\n***************\n*** 3,12 ****\n  tiger\n! rabbit\n  dragon\n  snake\n! horse\n! sheep\n  monkey\n  chicken\n- dog\n- pig\n--- 3,10 ----\n  tiger\n! \trabbit\n  dragon\n  snake\n! h orse\n! sheeps\n  monkey\n  chicken\n")])])]),e("p",[n._v("这种方式在开头两行作了比较文件的说明，这里有三种特殊字符：")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("-\t出现在前者，表示后者比前者少一行\n+\t出现在后者，表示后者比前者多一行\n!\t出现在两者，表示有差别的行\n")])])]),e("p",[n._v("（4）比较两个文件的异同，使用合并格式输出，并只显示异行处上下各一行上下文。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff -U1 file1 file2\n--- file1\t2020-02-15 22:24:46.522867000 +0800\n+++ file2\t2020-02-15 22:29:26.686867000 +0800\n@@ -3,10 +3,8 @@\n tiger\n-rabbit\n+\trabbit\n dragon\n snake\n-horse\n-sheep\n+h orse\n+sheeps\n monkey\n chicken\n-dog\n-pig\n")])])]),e("p",[n._v("第一部分，也是文件的基本信息。--- 表示第一个文件，+++ 表示第二个文件。\n第二部分，@@包围的内容，其中 -3,10 表示输出的内容属于第一个文件的 3 至 10 行，+3,8 表示输出的内容属于第二个文件的 3 至 8 行。\n第三部分，为比较后合并的内容。减号 - 表示后者比前者少了该行，加号表示后者比前者多了该行。")]),n._v(" "),e("p",[n._v("（5）比较时忽略空白字符（Tab、空格），使用正常格式输出。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("diff -w file1 file2\n8c8\n< sheep\n---\n> sheeps\n11,12d10\n< dog\n< pig\n")])])]),e("p",[n._v("可以发现，后者包含 Tab 的 rabbit 行和空格的 horse 行与前者比较时属于相同行。")]),n._v(" "),e("p",[n._v("（6）比较文件夹中同名文件的不同，使用正常格式输出。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("ll dir1\ntotal 4\n-rw-r--r-- 1 root root  0 Feb 16 00:24 a.txt\n-rw-r--r-- 1 root root 74 Feb 15 22:24 file\n\nll dir2\ntotal 4\n-rw-r--r-- 1 root root  0 Feb 16 00:24 b.txt\n-rw-r--r-- 1 root root 69 Feb 15 22:29 file\n\ndiff dir1 dir2\nOnly in dir1: a.txt\nOnly in dir2: b.txt\ndiff dir1/file dir2/file\n4c4\n< rabbit\n---\n> \trabbit\n7,8c7,8\n< horse\n< sheep\n---\n> h orse\n> sheeps\n11,12d10\n< dog\n< pig\n")])])]),e("hr"),n._v(" "),e("h2",{attrs:{id:"参考文献"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[n._v("#")]),n._v(" 参考文献")]),n._v(" "),e("p",[e("a",{attrs:{href:"http://man7.org/linux/man-pages/man1/diff.1.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("diff(1) - Linux manual page - man7.org"),e("OutboundLink")],1)]),n._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/xqzt/p/5380086.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("每天一个Linux命令目录"),e("OutboundLink")],1)]),n._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/peida/archive/2012/12/12/2814048.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("每天一个Linux命令 | diff 命令"),e("OutboundLink")],1)]),n._v(" "),e("p",[e("a",{attrs:{href:"http://linux.51yip.com/search/diff",target:"_blank",rel:"noopener noreferrer"}},[n._v("Linux 命令手册 | diff 命令"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);