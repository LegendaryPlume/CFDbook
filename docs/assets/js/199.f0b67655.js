(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{532:function(a,s,t){"use strict";t.r(s);var e=t(12),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"_1-命令简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[a._v("#")]),a._v(" 1.命令简介")]),a._v(" "),s("p",[a._v("arpd 用户空间的 arp 守护进程。")]),a._v(" "),s("p",[a._v("arpd 守护进程收集免费 ARP 信息，将其保存在本地磁盘上，并根据需要将其提供给内核，以避免由于内核 ARP 缓存的大小限制而导致的冗余广播。")]),a._v(" "),s("h2",{attrs:{id:"_2-命令格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[a._v("#")]),a._v(" 2.命令格式")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -lkh? "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" N "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" dbase "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v(" number "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-p interval "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("time")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" rate "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("INTERFACES"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("h2",{attrs:{id:"_3-选项说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[a._v("#")]),a._v(" 3.选项说明")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("-h -?\n  打印帮助。\n-l\n  将 arpd 数据库输出到标准输出设备显示并退出。显示信息包括接口索引、接口IP地址和接口 MAC 地址三列。还显示了已死亡主机的负条目，在这种情况下，MAC 地址被单词 FAILED 后跟冒号和证明主机已死亡的最近时间所取代。\n-f <FILE>\n  指定读取和加载 arpd 数据库的文本文件，文件的格式与“-l”输出信息类似。\n-b <DATABASE>\n  指定 arpd 数据库文件，默认位置为 /var/lib/arpd.db。\n-a <NUMBER>\n  通过该选项，arpd 不仅被动监听接口上的ARP报文，还会发送广播查询。<NUMBER> 为目标被认为死掉前查询的次数。\n-k\n  禁止通过内核发送广播查询。\n-n <TIME>\n  设定缓冲失效时间。\n-p <TIME>\n  轮询尝试到内核 ARP 表之间等待的时间(以秒为单位)。TIME 可以是一个浮点数。缺省值为 30。\n-R <RATE>\n  arpd 发送的最大稳定速率(包/秒)，缺省值为 1。\n-B <NUMBER>\n  arpd 连续发送的广播数，缺省值为 3。与 -R 选项一起使用，可确保在任何时间 T 的间隔内广播的 ARP 查询的数量不超过 B+R*T。\n<INTERFACES>\n  是要监视的网络接口的名称列表。如果没有给出接口，arpd 将监视所有接口。在这种情况下，arpd 不调整 sysctl 参数，假设用户在 arpd 启动后自己会这样做。\n")])])]),s("h2",{attrs:{id:"_4-常用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[a._v("#")]),a._v(" 4.常用示例")]),a._v(" "),s("p",[a._v("（1）启动 arpd 进程。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" /var/tmp/arpd.db\n")])])]),s("p",[a._v("（2）将 arp 数据库输出到标准输出设备显示并退出。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" /var/tmp/arpd.db\n")])])]),s("p",[a._v("（3）禁止通过内核发送广播查询。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v("\n")])])]),s("p",[a._v("（4）指定目标被认为死掉前查询的次数。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" /var/tmp/arpd.db "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\narpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" /var/tmp/arpd.db "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" eth0\n")])])]),s("p",[a._v("（5）综合实例。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("arpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" /var/tmp/arpd.db "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v(" eth0\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#Ifindex IP              MAC")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.15    fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.23    fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.47    fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.55    fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.0")]),a._v(".0.1        fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.2     fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.4     fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".0.138   fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".128.8   fe:ee:7f:99:99:19\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("        "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("169.254")]),a._v(".128.12  fe:ee:7f:99:99:19\n")])])]),s("p",[a._v("在这种情况下，内核仍会进行单播探测以验证条目，但所有广播活动都被抑制并在 arpd 的授权下进行。")]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"参考文献"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/arpd.8.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("arpd(8) — Linux manual page - man7.org"),s("OutboundLink")],1)]),a._v(" "),s("Vssue",{attrs:{title:"arpd"}})],1)}),[],!1,null,null,null);s.default=r.exports}}]);