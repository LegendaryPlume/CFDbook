(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{483:function(s,t,a){"use strict";a.r(t);var e=a(10),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[s._v("#")]),s._v(" 1.命令简介")]),s._v(" "),t("p",[s._v("ip 显示/操作路由、网络设备、接口和隧道。")]),s._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[s._v("#")]),s._v(" 2.命令格式")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" OPTIONS "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" OBJECT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" COMMAND "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-force")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-batch")]),s._v(" filename\n\nOBJECT :"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" address "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" addrlabel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" route "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" rule "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" neigh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          ntable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" tunnel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" tuntap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" maddress "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mroute "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mrule "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          monitor "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" xfrm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" netns "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" l2tp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" tcp_metrics "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" token "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          macsec "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" vrf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mptcp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nOPTIONS :"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" -V"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ersion"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("uman-readable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tatistics"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          -d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("etails"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("esolve"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-iec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("amily"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" inet "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" inet6\n          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-I")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-B")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -l"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("oops"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          maximum-addr-flush-attempts "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("neline"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -rc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("vbuf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("size"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("imestamp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -ts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hort"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("etns"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          -N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("umeric"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ll"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("olor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -br"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ief"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("son"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n          -p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("retty"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("其中 COMMAND 为要在对象上执行的操作。可能的操作取决于对象类型。一般来说，可以 add、delete 和 show（或 list）对象，但有些对象不允许所有这些操作，或者有一些额外的命令。help 命令对所有对象都有效，它打印出可用命令和参数语法约定的列表。")]),s._v(" "),t("p",[s._v("如果没有给出命令，则假设有一些默认命令，通常是 list。如果不能列出该类对象，则使用 help。")]),s._v(" "),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[s._v("#")]),s._v(" 3.选项说明")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-V, -Version\n  显示指令版本信息。\n-h, -human, -human-readable\n  以人类可读的方式输出统计信息。\n-b, -batch <FILENAME>\n  从提供的文件或标准输入读取命令并调用它们。第一次失败将导致 ip 终止。\n-force\n  不要在批处理模式下错误时终止ip。如果在执行命令期间出现任何错误，则应用程序返回码将是非零。\n-s, -stats, -statistics\n  输出更详细的信息。如果该选项出现两次或两次以上，则信息量会增加。作为一种规则，信息是统计数据或一些时间值。\n-f, -family <FAMILY>\n  强制使用指定的协议族。\n-4\n  指定使用的网络层协议是 IPv4 协议。\n-6\n  指定使用的网络层协议是 IPv6 协议。\n-o, -oneline\n  以单行输出每条记录，用'\\'字符替换换行。当您想用 wc(1) 或 grep(1) 输出计数记录时，这很方便。\n-r, -resolve\n  显示主机时，不使用IP地址，而使用主机的域名。\n")])])]),t("h2",{attrs:{id:"_4-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[s._v("#")]),s._v(" 4.常用示例")]),s._v(" "),t("p",[s._v("（1）显示网络设备的运行状态。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" list\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": lo: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN mode DEFAULT group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": eth0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq state UP mode DEFAULT group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/ether "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(":54:00:31:f1:f2 brd ff:ff:ff:ff:ff:ff\n")])])]),t("p",[s._v("（2）显示核心路由表。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" route list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" show\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.0/22 dev eth0 proto kernel scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.3 \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.0/16 dev eth0 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" metric "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),s._v(" \n")])])]),t("p",[s._v("（3）显示邻居路由表。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" neigh list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" show\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.55 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.1 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.4 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.138 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.15 dev eth0 lladdr fe:ee:7f:99:99:19 STALE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.23 dev eth0 lladdr fe:ee:7f:99:99:19 STALE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".128.8 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".128.12 dev eth0 lladdr fe:ee:7f:99:99:19 REACHABLE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.2 dev eth0 lladdr fe:ee:7f:99:99:19 STALE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.47 dev eth0 lladdr fe:ee:7f:99:99:19 STALE\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2402")]),s._v(":4e00:1000:fe00:1:1:1:2 dev eth0  FAILED\n240e:a5:4200:89::256 dev eth0  FAILED\n")])])]),t("p",[s._v("（4）启动指定网卡。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dev eth0 up\n")])])]),t("p",[s._v("（5）关闭指定网卡。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dev eth0 down\n")])])]),t("p",[s._v("（6）改变设备传输队列的长度。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dev eth0 txqueuelen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])])]),t("p",[s._v("（7）改变网络设备MTU(最大传输单元)的值。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dev eth0 mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n")])])]),t("p",[s._v("（8）修改网络设备的 MAC 地址。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dev eth0 address 00:50:56:26:d8:88\n")])])]),t("p",[s._v("（9）查看指定网卡信息。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" list eth0\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": eth0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq state UP mode DEFAULT group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/ether "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(":54:00:31:f1:f2 brd ff:ff:ff:ff:ff:ff\n    RX: bytes  packets  errors  dropped overrun mcast   \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1008467781")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4685557")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       \n    TX: bytes  packets  errors  dropped carrier collsns \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("727562681")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4491436")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),t("p",[s._v("等同于 ifconfig eth0。")]),s._v(" "),t("p",[s._v("（10）为每个地址设置一个字符串作为标签。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.76 brd + label eth0:1 dev eth0\n")])])]),t("p",[s._v("（11）添加协议地址。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.77 brd + label eth0:2 dev eth0\n")])])]),t("p",[s._v("在以太网接口 eth0 上增加一个地址 172.16.0.77，标签为 eth0:Alias。")]),s._v(" "),t("p",[s._v("（12）删除协议地址。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr del "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.77 brd + dev eth0 label eth0:2\n")])])]),t("p",[s._v("ip address delete，删除一个协议地址. address 可缩写为 addr，delete 可缩写为 del 或 d。")]),s._v(" "),t("p",[s._v("（13）显示协议地址。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" eth0\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": eth0: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc mq state UP group default qlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/ether "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(":54:00:31:f1:f2 brd ff:ff:ff:ff:ff:ff\n    inet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.3/22 brd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".3.255 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.76/32 scope global eth0:1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::5054:ff:fe31:f1f2/64 scope "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" \n       valid_lft forever preferred_lft forever\n")])])]),t("p",[s._v("ip address show 显示协议地址。其中 show 可缩写为 sh，list 可缩写为 lst、ls 和 l。")]),s._v(" "),t("p",[s._v("（14）取消所有以太网卡的IP地址。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-4")]),s._v(" addr flush label eth0\n")])])]),t("p",[s._v("（15）在设备 eth0 上，为地址 10.0.0.3 添加一个 permanent ARP 条目。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" neigh "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.3 lladdr "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":0:0:0:0:1 dev eth0 nud perm\n")])])]),t("p",[s._v("（16）把状态改为可达。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" neigh chg "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.76 dev eth0 nud reachable\n")])])]),t("p",[s._v("（17）删除设备上的一个 ARP 条目。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" neigh del "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.76 dev eth0\n")])])]),t("p",[s._v("（18）添加 172.16.0.0 网段转发到 eth0。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" route "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.0 dev eth0  \n")])])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/ip.8.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ip(8) — Linux manual page - man7.org"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/dengjin20104042056/article/details/100063872",target:"_blank",rel:"noopener noreferrer"}},[s._v("【Linux】一步一步学Linux——ip命令(183) - CSDN博客"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/wj78080458/article/details/86909969",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux基础命令---IP路由操作 - CSDN博客"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);