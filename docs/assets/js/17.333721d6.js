(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{291:function(a,t,n){"use strict";n.r(t);var e=n(10),s=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[a._v("#")]),a._v(" 1.命令简介")]),a._v(" "),t("p",[a._v("expr（expression） 命令用于计算表达式的值。")]),a._v(" "),t("p",[a._v("expr 支持关系运算、算数运算、字符串匹配、截取、获取长度等相关运算。只支持整数和字符串，不支持浮点数。若涉及浮点数的运算，可使用 bc 命令。")]),a._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[a._v("#")]),a._v(" 2.命令格式")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("expr EXPRESSION\nexpr OPTION\n")])])]),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[a._v("#")]),a._v(" 3.选项说明")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("--help\n\t显示帮助信息并退出\n--version\n\t显示版本信息并退出\n")])])]),t("h2",{attrs:{id:"_4-表达式说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-表达式说明"}},[a._v("#")]),a._v(" 4.表达式说明")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('ARG1 | ARG2\n\t若 ARG1 的值不为 0 或者不为空，则返回 ARG1，否则返回 ARG2\nARG1 & ARG2\n\t若两边的值都不为 0 或都不为空，则返回 ARG1，否则返回 0\nARG1 < ARG2\n\tARG1 小于 ARG2 返回 1 否则返回 0\nARG1 <= ARG2\n\tARG1 小于或等于 ARG2 返回 1 否则返回 0\nARG1 = ARG2\n\tARG1 等于 ARG2 返回 1 否则返回 0\nARG1 != ARG2\n\tARG1 不等于 ARG2 返回 1 否则返回 0\nARG1 >= ARG2\n\tARG1 大于或等于 ARG2 返回 1 否则返回 0\nARG1 > ARG2\n\tARG1 大于 ARG2 返回 1 否则返回 0\nARG1 + ARG2\n\t计算 ARG1 与 ARG2 相加之和\nARG1 - ARG2\n\t计算 ARG1 与ARG2 相减之差\nARG1 * ARG2\n\t计算 ARG1 与ARG2 相乘之积\nARG1 / ARG2\n\t计算 ARG1 与 ARG2 相除之商，向下转换成整数\nARG1 % ARG2\n\t计算 ARG1 与ARG2 相除取余\nSTRING : REGEXP\n\t 执行模式匹配。两端参数会转换为字符串格式，且第二个参数被视为正则表达式(GNU基本正则)，它默认会隐含前缀"^"。随后将第一个参数和正则模式做匹配。如果匹配成功，且 REGEX 使用了 \\( 和 \\)，则返回匹配到的内容，如果未使用 \\( 和 \\)，则返回匹配的字符数。否则返回为 0\nmatch STRING REGEXP\n\t等于 STRING : REGEXP\nsubstr STRING POS LENGTH\n\t返回 STRING 中从 POS（从 1 开始） 开始长度最大为 LENGTH 的子串。如果 POS 或 LENGTH 为负数、0 或非数值，则返回空字符串\nindex STRING CHARS\n\tCHARS 中任意单个字符在 STRING 中最前面的字符位置。如果在 STRING 中完全不存在 CHARS 中的字符，则返回 0\nlength STRING\n\t字符串的长度\n+ TOKEN\n\t将 TOKEN 解析为普通字符串，即使 TOKEN 是像 match 或操作符 / 一样的关键字\n( EXPRESSION )\n\t表达式可以使用一对小括号括起来。注意表达式与括号间需要空格\n')])])]),t("p",[a._v("注意：\n（1）很多操作符需要进行转义，比如大于号在 Shell 中用于重定向，使用大于号时需要转义 >；\n（2）如果两个参数都是数字，那么比较就是算术运算，否则就是字典序。")]),a._v(" "),t("h2",{attrs:{id:"_5-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-常用示例"}},[a._v("#")]),a._v(" 5.常用示例")]),a._v(" "),t("p",[a._v("（1）整数的算数运算。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("expr 1 + 1\n2\n\nexpr 1 - 1\n0\n\nexpr 1 * 1\n1\n\nexpr 1 / 2\n0\n\nexpr 1 % 2\n1\n")])])]),t("p",[a._v("（2）整数的关系运算。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("expr 1 \\< 1\n0\n\nexpr 1 \\<= 1\n1\n\nexpr 1 \\> 1\n0\n\nexpr 1 \\>= 1\n1\n\nexpr 1 = 1\n1\n\nexpr 1 != 1\n")])])]),t("p",[a._v("（3）字符串的关系运算。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('expr "abc" \\< "acb"\n1\n')])])]),t("p",[a._v("（4）执行模式匹配，获取匹配正则的字符串或其长度。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('expr "abcd" : "\\(.bc\\)"\nabc\n\n# 不使用小括号获取匹配正则的字符串的长度\nexpr "abcd" : ".bc"\n3\n')])])]),t("p",[a._v("（5）截取子串。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('expr substr "abcd" 1 3\nabc\n')])])]),t("p",[a._v("（6）获取字符串长度。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('expr length "abcd"\n4\n')])])]),t("p",[a._v("（7）将 expr 中具有特殊意义的关键字强制解析为普通字符串并获取其长度。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('expr length + "length"\n6\n')])])]),t("p",[a._v("（8）使用小括号，使得 expr 支持多个表达式。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("expr 1 + \\( 1 + 1 \\)\n3\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/expr.1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("expr(1) - Linux manual page - man7.org"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/f-ck-need-u/p/7231832.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("SHELL脚本--expr命令全解"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);