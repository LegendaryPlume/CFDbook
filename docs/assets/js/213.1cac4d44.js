(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{545:function(s,t,a){"use strict";a.r(t);var r=a(12),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[s._v("#")]),s._v(" 1.命令简介")]),s._v(" "),t("p",[s._v("lnstat 显示 Linux 网络统计信息。")]),s._v(" "),t("p",[s._v("lnstat 命令实际上是读取系统“/proc/net/stat”目录下面的文件，来显示当前主机的网络状态的。")]),s._v(" "),t("p",[s._v("lnstat 是 rtstat 命令的更新替代命令，功能更完善。")]),s._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[s._v("#")]),s._v(" 2.命令格式")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("lnstat [options]\n")])])]),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[s._v("#")]),s._v(" 3.选项说明")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-c, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--count")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("count"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t指定显示网络状态的次数，每隔一定时间显示一次网络状态。\n-d, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dump")]),s._v("\n\t显示可用的文件或关键字。\n-f, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t要使用的统计文件，可以指定多次。默认情况下扫描 /proc/net/stat 中的所有文件。\n-i, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("intv"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t指定两次显示网络状的间隔秒数。\n-j, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--json")]),s._v("\n\t以 JSON 格式显示结果。\n-k, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--keys")]),s._v(" K,K,K,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\t只显示给定的关键字\n-s, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--subject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t是否显示标题头。0"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'表示根本没有标题头，'")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'只在程序开始时打印标题头，'")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("'每20行打印一次标题头。\n-w, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--width")]),s._v(" N,N,N,"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\t指定每个字段所占的宽度。\n-h, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n\t显示帮助信息\n-V, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n\t显示指令版本信息\n")])])]),t("h2",{attrs:{id:"_4-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[s._v("#")]),s._v(" 4.常用示例")]),s._v(" "),t("p",[s._v("（1）显示网络状态。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lnstat\n")])])]),t("p",[s._v("（2）显示命令支持的统计文件。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lnstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n/proc/net/stat/ndisc_cache:\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": entries\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": allocs\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": destroys\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": hash_grows\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": lookups\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": hits\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(": res_failed\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(": rcv_probes_mcast\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": rcv_probes_ucast\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": periodic_gc_runs\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(": forced_gc_runs\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(": unresolved_discards\n/proc/net/stat/arp_cache:\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": entries\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": allocs\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": destroys\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": hash_grows\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": lookups\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": hits\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(": res_failed\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(": rcv_probes_mcast\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": rcv_probes_ucast\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": periodic_gc_runs\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(": forced_gc_runs\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(": unresolved_discards\n/proc/net/stat/rt_cache:\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": entries\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": in_hit\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(": in_slow_tot\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": in_slow_mc\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(": in_no_route\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(": in_brd\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(": in_martian_dst\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(": in_martian_src\n\t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(": out_hit\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(": out_slow_tot\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(": out_slow_mc\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(": gc_total\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(": gc_ignored\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(": gc_goal_miss\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(": gc_dst_overflow\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(": in_hlist_search\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(": out_hlist_search\n")])])]),t("p",[s._v("（3）过滤出只想要查看的关键字段信息。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lnstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v(" arp_cache:entries,rt_cache:in_hit,arp_cache:destroys\narp_cach"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("rt_cache"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("arp_cach"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n entries"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  in_hit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("destroys"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n")])])]),t("p",[s._v("（4）指定两次显示网络状的间隔秒数。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lnstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),t("p",[s._v("（5）指定显示网络状态的次数。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lnstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/lnstat.8.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("lnstat(8) - Linux manual page - man7.org"),t("OutboundLink")],1)]),s._v(" "),t("Vssue",{attrs:{title:"lnstat"}})],1)}),[],!1,null,null,null);t.default=e.exports}}]);