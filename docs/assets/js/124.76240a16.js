(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{395:function(s,a,t){"use strict";t.r(a);var e=t(10),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1-命令简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[s._v("#")]),s._v(" 1.命令简介")]),s._v(" "),a("p",[s._v("su 用于临时切换身份到另一个指定的用户，未指定用户名默认为 root。")]),s._v(" "),a("p",[s._v("使用 su 切换用户身份后，默认情况下不改变当前工作目录，但会改变 HOME、SHELL、USER、LOGNAME 等 Shell 的环境变量。")]),s._v(" "),a("h2",{attrs:{id:"_2-命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[s._v("#")]),s._v(" 2.命令格式")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("su [OPTIONS] [-] [USER [ARG...]]\n")])])]),a("h2",{attrs:{id:"_3-选项说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[s._v("#")]),s._v(" 3.选项说明")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-c, --command=CMD\n\t执行完指定命令后，立即恢复原来的用户身份\n--session-command=CMD\n\t等同于选项 -c，但不创建新会话\n-, -l, --login\n\t切换用户身份时启动一个新的 Shell。此选项可同时改变工作目录和 HOME、SHELL、USER、LOGNAME 等环境变量，也包括环境变量 PATH\n-f, --fast\n\t不必读启动文件（如 csh.cshrc 等），仅用于 csh 或 tcsh 两种 Shell\n-m, --preserve-environment\n\t保留原用户的 Shell 环境变量\n-p\n\t同 -m\n-s, --shell=SHELL\n\t指定使用的 Shell\n-h, --help\n\t显示帮助信息并退出\n-v, --version\n\t显示版本信息并退出\n")])])]),a("h2",{attrs:{id:"_4-常用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[s._v("#")]),s._v(" 4.常用示例")]),s._v(" "),a("p",[s._v("（1）不指定目标用户，缺省切换到 root。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n")])])]),a("p",[s._v("（2）切换到指定的用户。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" foo\n")])])]),a("p",[s._v("（3）切换用户身份时同时切换 Shell 环境。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - root\n")])])]),a("p",[s._v("（4）切换用户后执行指定命令，执行后返回原用户。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" root\n")])])]),a("h2",{attrs:{id:"_5-su-和-sudo-命令的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-su-和-sudo-命令的区别"}},[s._v("#")]),s._v(" 5.su 和 sudo 命令的区别")]),s._v(" "),a("p",[s._v("su 用来长时间切换用户，常见用法是"),a("code",[s._v("su USERNAME")]),s._v("，未指定 USERNAME 默认切换至 root。")]),s._v(" "),a("p",[s._v("sudo 允许被授权的用户以其他用户或者管理员身份来执行命令，可以使用 -u 选项来指明需要使用的用户身份，默认是 root。sudo 使一般用户不需要知道超级用户的密码即可获得权限。首先超级用户将普通用户的名字、可以执行的特定命令、按照哪种用户或用户组的身份执行等信息，登记在特殊的文件中（通常是 /etc/sudoers），即完成对该用户的授权（此时该用户称为 sudoer）。若其未经授权的用户企图使用 sudo，则会发出警告的邮件给管理员。用户使用 sudo 时，必须先输入当前用户密码，如果当前用户是 root 或者当前用户与目标用户一致，无需输入密码，之后的一段时间内（默认为 5 分钟，可在 /etc/sudoers 配置），使用 sudo 不需要再次输入密码。")]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"参考文献"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://man7.org/linux/man-pages/man1/su.1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("su(1) - Linux manual page - man7.org"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/sudo.8.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("sudo(8) - Linux manual page - man7.org"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);