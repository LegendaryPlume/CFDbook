(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{552:function(s,t,a){"use strict";a.r(t);var e=a(12),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[s._v("#")]),s._v(" 1.命令简介")]),s._v(" "),t("p",[s._v("nstat（network statistics）是一个简单的监视内核的 SNMP 计数器和网络接口状态的实用工具。")]),s._v(" "),t("p",[s._v("nstat 可以使用通配符指定一个或多个要过滤的内核的 SNMP（Simple Network Management Protocol） 计数器名称。")]),s._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[s._v("#")]),s._v(" 2.命令格式")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("nstat [ -h?vVzrnasd:t:jp ] [ PATTERN [ PATTERN ] ]\n")])])]),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[s._v("#")]),s._v(" 3.选项说明")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-z, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--zeros")]),s._v("\n\t显示 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 计数器。\n-h, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n\t显示帮助信息\n-V, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n\t显示指令版本信息\n-r, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reset")]),s._v("\n\t清零历史统计。\n-n, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nooutput")]),s._v("\n\t不显示任何内容，仅更新历史。\n-a, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ignore")]),s._v("\n\t显示计数器的绝对值。默认值是计算自上次使用以来的增量。\n-s, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--noupdate")]),s._v("\n\t不更新历史。因此，下次您将看到计数器也包括该测量时刻累积的值。\n-d, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--scan")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t以守护进程的方式运行本指令。\n-j, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--json")]),s._v("\n\t以 JSON 格式打印结果。\n-p, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--pretty")]),s._v("\n\t当与 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v(" 结合使用时，美化输出。\n-d, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--scan")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t运行在 daemon 模式收集统计信息。"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("是测量之间的间隔，以秒为单位。\n-t, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--interval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("INTERVAL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t平均利率的时间间隔。缺省值为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" 秒。\n")])])]),t("h2",{attrs:{id:"_4-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[s._v("#")]),s._v(" 4.常用示例")]),s._v(" "),t("p",[s._v("（1）查询内核的 SNMP 计数器和网络接口状态。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#kernel")]),s._v("\nIpInReceives                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9218461")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpInDelivers                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9210383")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutRequests                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9323171")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutNoRoutes                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmReqds                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmOKs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragOKs                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragCreates                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInMsgs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1317355")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInErrors                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInCsumErrors                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInDestUnreachs              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),t("p",[s._v("（2）以 JSON 格式打印结果。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kernel"')]),s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpInReceives"')]),s._v(":329,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpInDelivers"')]),s._v(":329,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpOutRequests"')]),s._v(":333,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpInMsgs"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpInEchos"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpOutMsgs"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpOutEchoReps"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpMsgInType8"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IcmpMsgOutType0"')]),s._v(":59,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpActiveOpens"')]),s._v(":40,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpInSegs"')]),s._v(":265,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpOutSegs"')]),s._v(":272,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UdpInDatagrams"')]),s._v(":4,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UdpOutDatagrams"')]),s._v(":4,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTW"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtDelayedACKs"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtDelayedACKLost"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPHPHits"')]),s._v(":39,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPPureAcks"')]),s._v(":122,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPHPAcks"')]),s._v(":11,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPDSACKOldSent"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPRcvCoalesce"')]),s._v(":39,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPOFOQueue"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TcpExtTCPOrigDataSent"')]),s._v(":139,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpExtInMcastPkts"')]),s._v(":1,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpExtInOctets"')]),s._v(":23030,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpExtOutOctets"')]),s._v(":56410,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpExtInMcastOctets"')]),s._v(":36,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpExtInNoECTPkts"')]),s._v(":329"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("（3）不更新历史。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#kernel")]),s._v("\nIpInReceives                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("272")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpInDelivers                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("272")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutRequests                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("271")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInMsgs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInEchos                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpOutMsgs                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpOutEchoReps                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),t("p",[s._v("（4）显示计数器的绝对值。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#kernel")]),s._v("\nIpInReceives                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9219500")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpInDelivers                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9211422")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutRequests                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9324222")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutNoRoutes                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmReqds                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmOKs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragOKs                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragCreates                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInMsgs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1317546")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),t("p",[s._v("（5）清零历史统计。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("\nIpInReceives                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9220432")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpInDelivers                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9212354")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutRequests                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9325173")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpOutNoRoutes                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmReqds                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpReasmOKs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragOKs                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8067")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIpFragCreates                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16134")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\nIcmpInMsgs                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1317706")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),t("p",[s._v("（6）指定计数器名称查询。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nstat IpInReceives\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#kernel")]),s._v("\nIpInReceives                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("875")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n")])])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[s._v("#")]),s._v(" 参考文献")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/nstat.8.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("nstat(8) - Linux manual page - man7.org"),t("OutboundLink")],1)]),s._v(" "),t("Vssue",{attrs:{title:"nstat"}})],1)}),[],!1,null,null,null);t.default=n.exports}}]);