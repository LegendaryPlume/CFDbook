(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{545:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-命令简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[t._v("#")]),t._v(" 1.命令简介")]),t._v(" "),s("p",[t._v("nslookup（Name Server Lookup）是一种网络管理命令，用于从 DNS 服务器查询域名、IP 或其他 DNS 记录信息。")]),t._v(" "),s("p",[t._v("nslookup 有两种工作模式，交互模式和非交互模式。在交互模式下，用户可以向域名服务器查询各类主机、域名的信息，或者输出域名中的主机列表。在非交互模式下，针对一个主机或域名仅仅获取特定的名称或所需信息。")]),t._v(" "),s("p",[t._v("进入交互模式有两种方式：\n（1）不加任何参数执行 nslookup 命令，此时 nslookup 会连接到默认的域名服务器（/etc/resolv.conf 的第一个 DNS 地址）；\n（2）第一个参数是连字符（-），第二个参数是域名服务器的主机名或IP，即"),s("code",[t._v("nslookup - SERVER|IP")]),t._v("。")]),t._v(" "),s("p",[t._v("其他方式则进入非交互模式，比如"),s("code",[t._v("nslookup NAME")]),t._v("查询域名对应的IP。")]),t._v(" "),s("h2",{attrs:{id:"_2-命令格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[t._v("#")]),t._v(" 2.命令格式")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-OPTION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("NAME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" -"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SERVER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("NAME 为域名，SERVER 为域名服务器地址。")]),t._v(" "),s("h2",{attrs:{id:"_3-选项说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[t._v("#")]),t._v(" 3.选项说明")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("TYPE\n\t设置查询的类型。等同交互命令 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VALUE。VALUE 取值见下文。\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-timeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NUMBER\n\t设置等待响应的超时时间，单位秒。等同交互命令 "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("timeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NUMBER。\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-debug")]),t._v("\n\t显示更详细的信息。\n")])])]),s("h2",{attrs:{id:"_4-交互命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-交互命令"}},[t._v("#")]),t._v(" 4.交互命令")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("HOST "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SERVER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t查询域名对应的地址。如果指定 SERVER 则使用指定的域名服务器解析\nserver DOMAIN\n\t指定域名服务器\nlserver DOMAIN\n\t改变默认域名服务器\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n\t退出交互模式\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" KEYWORD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VALUE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t此命令用于更改影响查找的状态信息。有效关键字为：\n\tall\n\t\t打印所有 KEYWORD 当前配置\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VALUE\n\t\t改变 DNS class，VALUE 可取值 IN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Internet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、CH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Chaos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、HS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Hesiod"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("和 ANY，默认 IN。DNS class 用于指定信息的协议组\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("debug\n\t\t在搜索时打开或关闭完整响应数据包和任何中间响应数据包的显示。默认 nodebug，简写 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("deb\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("d2\n\t\t打开或关闭调试模式。这将显示有关 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" 正在执行的操作的更多信息。默认 nod2\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("domain")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NAME\n\t\t设置搜索列表\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("search\n\t\t如果查找请求包含至少一个句点但没有以尾随句点结束，则将域搜索列表中的域名追加到请求，直到收到应答。默认 search\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VALUE\n\t\t修改默认的TCP/UDP域名服务器端口。默认 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("VALUE\n\t\t更改查询的类型。可取值 A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A记录"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、CNAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CNAME记录"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、NS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("域名服务器记录"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、MX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("邮件交换记录"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("、PTR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("反向记录"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("等。大小写不敏感，默认 A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("recurse\n\t\t如果域名服务器没有该信息，请告诉它查询其他服务器。默认 recurse，简写 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("rec\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("retry")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NUMBER\n\t\t设置重试次数\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("timeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NUMBER\n\t\t设置等待响应的超时时间，单位秒\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("vc\n\t\t打开或关闭发送请求到服务器使用虚拟电路。默认 novc\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("fail\n\t\t如果域名服务器响应 SERVFAIL 或推荐（nofail）或终止查询（fail），尝试下一个名称服务器。默认不尝试"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nofail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5-常用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-常用示例"}},[t._v("#")]),t._v(" 5.常用示例")]),t._v(" "),s("p",[t._v("（1）在非交互模式下正向解析，查询域名信息。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" baidu.com\nServer:\t\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98\nAddress:\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nNon-authoritative answer:\nName:\tbaidu.com\nAddress: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.156")]),t._v(".69.79\nName:\tbaidu.com\nAddress: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.181")]),t._v(".38.148\n")])])]),s("p",[t._v("（2）在交互模式下正向解析，查询域名信息。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" baidu.com\nServer:\t\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98\nAddress:\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nNon-authoritative answer:\nName:\tbaidu.com\nAddress: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("220.181")]),t._v(".38.148\nName:\tbaidu.com\nAddress: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.156")]),t._v(".69.79\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n")])])]),s("p",[t._v("最后一个交互命令 exit 表示退出。")]),t._v(" "),s("p",[t._v("（3）反向解析，通过 IP 查询对应的域名。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("209.132")]),t._v(".183.105\nServer:\t\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98\nAddress:\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nNon-authoritative answer:\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("105.183")]),t._v(".132.209.in-addr.arpa\tname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" redirect.redhat.com.\n\nAuthoritative answers can be found from:\n")])])]),s("p",[t._v("（4）查询域名别名。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cname www.baidu.com\nServer:\t\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98\nAddress:\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nNon-authoritative answer:\nwww.baidu.com\tcanonical name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" www.a.shifen.com.\n\nAuthoritative answers can be found from:\n")])])]),s("p",[t._v("不知道为什么，查询域名别名时需要在域名前面加上 www，不然会得到如下结果：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("cname baidu.com\nServer:\t\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98\nAddress:\t"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.123")]),t._v(".119.98"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#53")]),t._v("\n\nNon-authoritative answer:\n*** Can't "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" baidu.com: No answer\n\nAuthoritative answers can be found from:\nbaidu.com\n\torigin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dns.baidu.com\n\tmail addr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sa.baidu.com\n\tserial "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2012144164")]),t._v("\n\trefresh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("\n\tretry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("\n\texpire "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2592000")]),t._v("\n\tminimum "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7200")]),t._v("\n")])])]),s("p",[t._v("（5）查询其他类型的记录。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("TYPE DOMAIN"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("IP "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DNS-SERVER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nTYPE:\n\tA\t\tIPv4 地址记录\n    AAAA\tIPv6 地址记录  \n\tAFSDB \tAndrew文件系统数据库服务器记录 \n\tATMA \tATM地址记录 \n\tCNAME\t别名记录 \n\tHINFO\t硬件配置记录，包括CPU、操作系统信息 \n\tISDN\t域名对应的ISDN号码 \n\tMB\t\t存放指定邮箱的服务器 \n\tMG\t\t邮件组记录 \n\tMINFO\t邮件组和邮箱的信息记录 \n\tMR\t\t改名的邮箱记录 \n\tMX\t\t邮件服务器记录 \n\tNS\t\t名字服务器记录 \n\tPTR\t\t反向记录 \n\tRP\t\t负责人记录 \n\tRT\t\t路由穿透记录 \n\tSRV\t\tTCP服务器信息记录 \n\tTXT\t\t域名对应的文本信息 \n\tX25\t\t域名对应的X.25地址记录\n")])])]),s("p",[t._v("（6）查询所有记录。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("all DOMAIN\n")])])]),s("p",[t._v("这个命令将查询 DNS 服务器以获取指定域名的所有记录，包括 A、AAAA、MX、NS、SOA 和 TXT 记录。")]),t._v(" "),s("p",[t._v("（7）指定 DNS 服务器。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("nslookup -server=<DNS 服务器地址> <域名>\n")])])]),s("p",[t._v("这个命令将查询指定的 DNS 服务器以获取指定域名的信息。")]),t._v(" "),s("p",[t._v("（8）显示更详细的信息。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("nslookup -debug <域名>\n")])])]),s("p",[t._v("这个命令将显示更详细的信息，包括查询的过程、使用的 DNS 服务器和结果的解析过程。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"参考文献"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://linux.die.net/man/1/nslookup",target:"_blank",rel:"noopener noreferrer"}},[t._v("nslookup(1) - Linux man page - Die.net"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.geeksforgeeks.org/nslookup-command-in-linux-with-examples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GeeksforGeeks.nslookup command in Linux with Examples"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/dengjin20104042056/article/details/99977872",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Linux】一步一步学Linux——nslookup命令(161)"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);