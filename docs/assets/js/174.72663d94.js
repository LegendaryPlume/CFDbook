(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{505:function(a,t,s){"use strict";s.r(t);var e=s(12),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-命令简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[a._v("#")]),a._v(" 1.命令简介")]),a._v(" "),t("p",[a._v("mandb 用于创建或更新手册页索引缓存。")]),a._v(" "),t("p",[a._v("mandb 用于初始化或手动更新索引数据库缓存。缓存包含与手册页系统的当前状态相关的信息，其中存储的信息由 man-db 实用程序用于提高其速度和功能。")]),a._v(" "),t("p",[a._v("创建或更新索引时，mandb 将警告错误的 ROFF.so 请求、虚假的手册页文件名和无法从中解析 whatis 的手册页。")]),a._v(" "),t("p",[a._v("为 mandb 提供可选的以冒号分隔的路径将覆盖内部系统手册页层次结构搜索路径，该路径由配置文件 man_db.conf 确定。")]),a._v(" "),t("p",[a._v("查看配置文件 man_db.conf 的位置可以使用命令 "),t("code",[a._v("locate man_db.conf")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"_2-命令格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[a._v("#")]),a._v(" 2.命令格式")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("mandb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-dqsucpt?V"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-C "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("manpath"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nmandb "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-dqsut"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-C "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),t("h2",{attrs:{id:"_3-选项说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[a._v("#")]),a._v(" 3.选项说明")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("-d, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--debug")]),a._v("\n\t打印调试信息。\n-q, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--quiet")]),a._v("\n\t不发出警告。\n-s, --no-straycats\n\t不花时间查找或向数据库添加有关野猫（stray cats）的信息。\n-p, --no-purge\n\t不花时间检查删除的手册页并从数据库中清理它们。\n-c, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--create")]),a._v("\n\t默认情况下，mandb 会尝试更新任何以前创建的数据库。如果某个数据库不存在，程序会创建它。此选项强制 mandb 删除以前的数据库并重新生成数据库，并隐含打开 --no-purge。在数据库损坏或将来引入新数据库存储方案时，这一选项可能用到。\n-u, --user-db\n\t只创建用户数据库，即使有创建系统数据库所需的写权限。\n-t, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--test")]),a._v("\n\t对层次结构搜索路径中的手册页执行正确性检查。使用此选项时，mandb 不会更改现有的数据库。\n-f, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--filename")]),a._v("\n\t只更新指定文件名对应的记录。此选项不作常规使用；它由 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("man")]),a._v(" 内部使用（以 MAN_DB_UPDATES 选项编译时），查找页面是否过期。它隐含打开 -p，关闭 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" 和 -s。\n-C, --config-file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\t使用此用户配置文件代替默认的 ~/.manpath。\n-?, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--help")]),a._v("\n\t显示用法消息，然后退出。\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--usage")]),a._v("\n\t打印一条简短的使用消息并退出。\n-V, "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--version")]),a._v("\n\t显示版本，然后退出。\n")])])]),t("h2",{attrs:{id:"_4-相关文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-相关文件"}},[a._v("#")]),a._v(" 4.相关文件")]),a._v(" "),t("ul",[t("li",[a._v("/etc/man_db.conf：mandb 使用的配置文件。")]),a._v(" "),t("li",[a._v("/var/cache/man/index.(bt|db|dir|pag)：符合 FHS（Filesystem Hierarchy Standard）的全局索引数据库缓存。")])]),a._v(" "),t("p",[a._v("数据库缓存的较旧位置包括：")]),a._v(" "),t("ul",[t("li",[a._v("/usr/man/index.(bt|db|dir|pag)：传统的全局索引数据库缓存。")]),a._v(" "),t("li",[a._v("/var/catman/index.(bt|db|dir|pag)：备用或 FSSTND 兼容的全局索引数据库缓存。")])]),a._v(" "),t("h2",{attrs:{id:"_5-常用示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-常用示例"}},[a._v("#")]),a._v(" 5.常用示例")]),a._v(" "),t("p",[a._v("（1）更新指定命令手册页索引缓存。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mandb top")]),a._v("\n")])])]),t("p",[a._v("（2）使用 -d 参数，打印调试信息。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mandb -d top")]),a._v("\nFrom the config "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" /etc/man_db.conf:\n\nMandatory mandir "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("/usr/man'.\nMandatory mandir "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("/usr/share/man"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.\nMandatory mandir `/usr/local/share/man'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\nPath "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("/bin' mapped to mandir "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("/usr/share/man"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'.\nPath `/usr/bin'")]),a._v(" mapped to mandir "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("/usr/share/man'.\nPath "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("/sbin"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' mapped to mandir `/usr/share/man'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),t("p",[a._v("（3）只创建用户数据库。")]),a._v(" "),t("p",[a._v("使用 -u 参数，只创建用户数据库，即使有创建系统数据库所需的写权限。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mandb -u top")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("man")]),a._v(" subdirectories contained newer manual pages.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" manual pages were added.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" stray cats were added.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" old database entries were purged.\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/mandb.8.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("mandb(8) - Linux manual page - man7.org"),t("OutboundLink")],1)]),a._v(" "),t("Vssue",{attrs:{title:"mandb"}})],1)}),[],!1,null,null,null);t.default=n.exports}}]);