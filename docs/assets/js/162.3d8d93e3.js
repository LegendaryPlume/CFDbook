(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{492:function(t,a,s){"use strict";s.r(a);var n=s(12),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-命令简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-命令简介"}},[t._v("#")]),t._v(" 1.命令简介")]),t._v(" "),a("p",[t._v("shutdown 指令可以关闭所有程序，并依用户的需要，进行重启或关机操作。")]),t._v(" "),a("p",[t._v("使用 shutdown 命令时，在系统关机前，可以通知所有登录者系统将要关闭。此时 login 指令会被冻结，新用户将不能再登录，这是推荐使用的安全关机方式。关机之前，所有进程都会受到 shutdown 指令所发送的关闭进程信号，然后向 init 程序发送信号，要求它改变运行等级（runlevel）。")]),t._v(" "),a("p",[t._v("Linux 系统有 7 个运行级别：\n运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动；\n运行级别1：单用户工作状态，root 权限，用于系统维护，禁止远程登录；\n运行级别2：多用户状态（没有 NFS）；\n运行级别3：完全的多用户状态（有 NFS），登录后进入控制台命令行模式；\n运行级别4：系统未使用，保留；\n运行级别5：X11 控制台，登录后进入图形 GUI 模式；\n运行级别6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动。")]),t._v(" "),a("h2",{attrs:{id:"_2-命令格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-命令格式"}},[t._v("#")]),t._v(" 2.命令格式")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown [选项] [参数]\n")])])]),a("h2",{attrs:{id:"_3-选项说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-选项说明"}},[t._v("#")]),t._v(" 3.选项说明")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-c\n\tcancel，其他用户可以取消目前正在执行的关机程序，或者Control-C终止shutdown程序\n-k\n\t仅仅向每个登录用户发出警告信息，并不真正关机\n-f\n\t重新启动时不执行fsck文件系统检查命令；\n-F\n\t重新启动时执行fsck文件系统检查命令；\n-h\n\t关机（halt）或关闭电源（power off），至于选择哪一种取决于系统的关机脚本（有時候可以在 BIOS 中更改）\n-H\n\t关机（halt）；\n-P\n\t关机，等价于 poweroff 命令\n-n\n\t不调用 init 程序进行关机，而由 shutdown 自己进行\n-r\n\t重启。等价于 reboot 命令\n-t <秒数>\n\t送出警告信息和删除信息之间要延迟多少秒\n--help\n\t显示帮助信息\n--version\n\t显示版本\n")])])]),a("h2",{attrs:{id:"_4-常用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-常用示例"}},[t._v("#")]),t._v(" 4.常用示例")]),t._v(" "),a("p",[t._v("（1）立刻关机，其中 now 相当于时间为 0 的状态。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -H now\n//或\nhalt\n")])])]),a("p",[t._v("（2）系统在今天的 20：25 分关机。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -H 20:25\n")])])]),a("p",[t._v("（3）系统立刻重新启动。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -r now\n//或\nreboot\n")])])]),a("p",[t._v("（4）发送后面的警告信息，再过 30 分钟系统会自动重启。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -r +30 'The system will reboot' \n")])])]),a("p",[t._v("（5）仅发出警告，系统并不会关机。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -k now 'This is just a warning message'\n")])])]),a("p",[t._v("（6）立即关机并切断电源。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown -P now\n//或\npoweroff\n")])])]),a("p",[t._v("（7）恶作剧，仅发出警告，什么都不会发生。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shutdown +10 -k '10分钟后关机'\n")])])]),a("h2",{attrs:{id:"_5-常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-常见问题"}},[t._v("#")]),t._v(" 5.常见问题")]),t._v(" "),a("p",[t._v("（1）"),a("code",[t._v("shutdown -h")]),t._v("、"),a("code",[t._v("shutdown -H")]),t._v("和"),a("code",[t._v("shutdown -P")]),t._v("的区别?\n"),a("code",[t._v("shutdown -H")]),t._v("是关机操作，停止系统运行，但并未关闭电源，"),a("code",[t._v("shutdown -P")]),t._v("是关闭电源操作。"),a("code",[t._v("shutdown -h")]),t._v("则根据系统的默认设置来选择是否关闭电源 。关闭电源会送出 ACPI 指令通知PSU（Power Supply Unit）电源。")]),t._v(" "),a("p",[t._v("（2）shutdown默认操作进入单用户维护模式。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//十分钟后进入单用户维护模式\nshutdown +10\n")])])]),a("h2",{attrs:{id:"参考文献"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://man7.org/linux/man-pages/man8/shutdown.8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("shutdown(8) - Linux manual page - man7.org"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.gtwang.org/linux/how-to-shutdown-linux/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux 關機指令（shutdown、halt 與 poweroff）教學與範例"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);